(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(2),o=n(0),c=n.n(o),u=n(14),l=n.n(u),i=n(3),m=n.n(i),s="/api/persons",f=function(){return console.log("localhostlocalhostlocalhostlocalhost",s),m.a.get(s)},d=function(e){return m.a.post(s,e)},b=function(e){return m.a.delete("".concat(s,"/").concat(e))},v=function(e,t){return m.a.put("".concat(s,"/").concat(e),t)},h=function(e){var t=e.personObj,n=e.removeP;return c.a.createElement("div",null,t.name," ",t.number,c.a.createElement("button",{onClick:function(){return n(t)}},"Delete"))},p=function(e){var t=e.message;if(null===t)return null;return c.a.createElement("div",{style:t.includes("error")?{color:"white",background:"red",fontStyle:"italic",fontSize:40}:{color:"white",background:"green",fontStyle:"italic",fontSize:20}},c.a.createElement("p",null,t))},E=function(e){var t=e.filterValue,n=e.onFilterTextChange;return c.a.createElement("form",null,c.a.createElement("div",null,"Filter:",c.a.createElement("input",{value:t,onChange:n})))},g=function(e){var t=e.submitFunc,n=e.name,a=e.changeName,r=e.number,o=e.changeNumber;return c.a.createElement("form",{onSubmit:t},c.a.createElement("h2",null,"Add New"),c.a.createElement("div",null,"Name:",c.a.createElement("input",{value:n,onChange:a})),c.a.createElement("div",null,"Number:",c.a.createElement("input",{value:r,onChange:o})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"Add")))},O=function(e){var t=e.persons,n=e.removePerson;return c.a.createElement("div",null,c.a.createElement("h2",null,"Numbers"),t.map((function(e){return c.a.createElement(h,{personObj:e,key:e.id,removeP:n})})))},j=function(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),n=t[0],u=t[1],l=Object(o.useState)(""),i=Object(r.a)(l,2),m=i[0],s=i[1],h=Object(o.useState)(""),j=Object(r.a)(h,2),S=j[0],k=j[1],w=Object(o.useState)(""),y=Object(r.a)(w,2),N=y[0],C=y[1],T=Object(o.useState)(""),F=Object(r.a)(T,2),P=F[0],x=F[1],D=Object(o.useState)(""),z=Object(r.a)(D,2),A=z[0],J=z[1];Object(o.useEffect)((function(){f().then((function(e){u(e.data)}))}),[]);var V=n.filter((function(e){return e.name.toLowerCase().indexOf(S)>-1}));return c.a.createElement("div",null,c.a.createElement("h2",null,"Phonebook"),c.a.createElement(p,{message:P||A}),c.a.createElement(E,{filterValue:S,onFilterTextChange:function(e){k(e.target.value)}}),c.a.createElement(g,{submitFunc:function(e){e.preventDefault();var t=n.find((function(e){return e.name===m}));if(t){var r=Object(a.a)(Object(a.a)({},t),{},{number:N});v(t.id,r).then((function(e){u(n.map((function(n){return n.id!==t.id?n:e.data}))),x("".concat(r.name,"s number updated")),setTimeout((function(){x(null)}),3e3)}))}else{var o={name:m,number:N};d(o).then((function(e){return u(n.concat(e.data)),x("".concat(o.name," is added")),setTimeout((function(){x(null)}),3e3),e})).catch((function(e){J("error: ".concat(e.response.data.error)),console.log(e.response.data.error),setTimeout((function(){J(null)}),3e3)}))}s(""),C("")},name:m,changeName:function(e){s(e.target.value)},number:N,changeNumber:function(e){C(e.target.value)}}),c.a.createElement(O,{persons:V,removePerson:function(e){var t=e.name,a=e.id;window.confirm("Do you really want to delete ".concat(t,"?"))&&b(a).then((function(){u(n.filter((function(e){return e.id!==a})))})).catch((function(e){J("error deleting user ".concat(t)),console.log(e.response.data.error),setTimeout((function(){J(null)}),3e3)}))}}))};l.a.render(c.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.1bf43c16.chunk.js.map